<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>微波轉換</title>

    <script>
        // Set the redirect target for the PWA's first launch
        sessionStorage.setItem('pwa_launch_redirect', window.location.href);
    </script>

    <!-- PWA & Apple Meta Tags -->
    <link rel="manifest" href="../../manifest.json">
    <meta name="theme-color" content="#0d6efd">
    <link rel="apple-touch-icon" href="../../images/icons/icon-512x512.png">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="apple-mobile-web-app-title" content="微波轉換">

    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <!-- Custom CSS -->
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container my-5">
        <header class="text-center mb-4">
            <h1 class="display-5">微波時間換算機</h1>
            <p class="lead">輕鬆換算超商與家用微波爐的加熱時間</p>
        </header>

        <main>
            <!-- Store Selection -->
            <div class="card shadow-sm mb-4">
                <div class="card-body">
                    <h5 class="card-title mb-3">1. 選擇超商</h5>
                    <div id="store-selector" class="d-grid gap-2 d-sm-flex">
                        <button type="button" class="btn btn-primary active" data-store="7-eleven">7-ELEVEN</button>
                        <button type="button" class="btn btn-outline-primary" data-store="familymart">全家 FamilyMart</button>
                    </div>
                </div>
            </div>

            <!-- Preset Selection -->
            <div class="card shadow-sm">
                <div class="card-body">
                    <h5 class="card-title mb-3">2. 選擇快捷按鈕</h5>
                    <!-- 7-ELEVEN Presets -->
                    <div id="seven-eleven-presets">
                        <div class="preset-grid">
                            <button type="button" class="btn btn-outline-secondary preset-btn" data-value="1">1</button>
                            <button type="button" class="btn btn-outline-secondary preset-btn" data-value="2">2</button>
                            <button type="button" class="btn btn-outline-secondary preset-btn" data-value="3">3</button>
                            <button type="button" class="btn btn-outline-secondary preset-btn" data-value="4">4</button>
                            <button type="button" class="btn btn-outline-secondary preset-btn" data-value="5">5</button>
                            <button type="button" class="btn btn-outline-secondary preset-btn" data-value="6">6</button>
                            <button type="button" class="btn btn-outline-secondary preset-btn" data-value="7">7</button>
                            <button type="button" class="btn btn-outline-secondary preset-btn" data-value="8">8</button>
                            <button type="button" class="btn btn-outline-secondary preset-btn" data-value="9">9</button>
                            <button type="button" class="btn btn-outline-secondary preset-btn" data-value="0">0</button>
                            <button type="button" class="btn btn-outline-secondary preset-btn grid-span-2" data-value="8+2">8+2 組合</button>
                        </div>
                    </div>

                    <!-- FamilyMart Presets -->
                    <div id="familymart-presets" class="d-none">
                        <div class="preset-grid">
                            <button type="button" class="btn btn-outline-secondary preset-btn" data-value="1">火力1</button>
                            <button type="button" class="btn btn-outline-secondary preset-btn" data-value="2">火力2</button>
                            <button type="button" class="btn btn-outline-secondary preset-btn" data-value="3">火力3</button>
                            <button type="button" class="btn btn-outline-secondary preset-btn" data-value="4">火力4</button>
                            <button type="button" class="btn btn-outline-secondary preset-btn" data-value="5">火力5</button>
                            <button type="button" class="btn btn-outline-secondary preset-btn" data-value="6">火力6</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Results Section -->
            <div id="results-section" class="mt-5 d-none">
                <h2 class="text-center mb-4">家用微波爐建議時間</h2>
                <div class="row text-center">
                    <!-- 1000W -->
                    <div class="col-md-6 col-lg-3 mb-4">
                        <div class="card h-100 shadow-sm">
                            <div class="card-header bg-primary-subtle">1000W</div>
                            <div class="card-body d-flex flex-column justify-content-center">
                                <h3 id="result-1000" class="card-title">0</h3>
                                <p class="card-text">秒</p>
                            </div>
                        </div>
                    </div>
                    <!-- 800W -->
                    <div class="col-md-6 col-lg-3 mb-4">
                        <div class="card h-100 shadow-sm">
                            <div class="card-header bg-success-subtle">800W</div>
                            <div class="card-body d-flex flex-column justify-content-center">
                                <h3 id="result-800" class="card-title">0</h3>
                                <p class="card-text">秒</p>
                            </div>
                        </div>
                    </div>
                    <!-- 700W -->
                    <div class="col-md-6 col-lg-3 mb-4">
                        <div class="card h-100 shadow-sm">
                            <div class="card-header bg-warning-subtle">700W</div>
                            <div class="card-body d-flex flex-column justify-content-center">
                                <h3 id="result-700" class="card-title">0</h3>
                                <p class="card-text">秒</p>
                            </div>
                        </div>
                    </div>
                    <!-- 600W -->
                    <div class="col-md-6 col-lg-3 mb-4">
                        <div class="card h-100 shadow-sm">
                            <div class="card-header bg-danger-subtle">600W</div>
                            <div class="card-body d-flex flex-column justify-content-center">
                                <h3 id="result-600" class="card-title">0</h3>
                                <p class="card-text">秒</p>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="alert alert-info mt-3" role="alert">
                    <strong>計算公式：</strong> (總熱量) / 家用瓦數 = 家用秒數
                </div>
            </div>
        </main>

        <footer class="text-center mt-5">
            <a href="../../index.html" class="btn btn-secondary">返回首頁</a>
        </footer>

        <!-- Floating Reset Button -->
        <button id="floating-reset-btn" class="btn btn-primary shadow-lg d-none">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-up me-2" viewBox="0 0 16 16">
                <path fill-rule="evenodd" d="M8 15a.5.5 0 0 0 .5-.5V2.707l3.146 3.147a.5.5 0 0 0 .708-.708l-4-4a.5.5 0 0 0-.708 0l-4 4a.5.5 0 1 0 .708.708L7.5 2.707V14.5a.5.5 0 0 0 .5.5z"/>
            </svg>
            重選
        </button>
    </div>

    <!-- Custom JavaScript -->
    <script src="script.js"></script>
    <!-- <script>
        // Register Service Worker
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('/daily_tools/sw.js')
                .then(registration => {
                    console.log('Service Worker registered with scope:', registration.scope);
                })
                .catch(error => {
                    console.error('Service Worker registration failed:', error);
                });
        }
    </script> -->
</body>
</html>
